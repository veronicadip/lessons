<!DOCTYPE html>
<html>
  <head>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <!--
      In exercise 4 you created a function that manipulates a string
      given a set of options.

      1. Copy the function in this file and modify it to return a string
         instead of logging the result
      2. Implement a `<form>` that has:
        a. An input to enter an string
        b. A checkbox to mark if the result should be upper cased
        c. An number input to define the letter spacing
        d. An number input to define how many times the string should be repeated
      3. Using the function from `1` and the values from `2`, render on the screen
         the resulting string. This value should be updated as soon as any of the input
         values change

     Hint: read https://reactjs.org/docs/forms.html before you start
    -->

    <script type="text/babel">
      class StrModifier extends React.Component {
        print() {
          let result = this.props.str;
          let finalResult = "";
          const space = " ";
          if (this.props.obj.upper === undefined) {
            let upper = false;
          } else {
            let upper = this.props.obj.upper;
          }
          if (this.props.obj.repeat === undefined) {
            let repeat = 1;
          } else {
            let repeat = this.props.obj.repeat;
          }
          if (this.props.obj.letterSpacing === undefined) {
            let letterSpacing = 0;
          } else {
            let letterSpacing = this.props.obj.letterSpacing;
          }
          if (upper === true) {
            result = result.toUpperCase();
          }

          for (let letter of result) {
            finalResult = `${finalResult}${letter}${space.repeat(
              letterSpacing
            )}`;
          }

          if (repeat >= 0) {
            finalResult = `${finalResult.repeat(repeat)}`;
          }
          return finalResult;
        }
        render() {
          return <p>{this.finalResult}</p>;
        }
      }
      
      ReactDOM.render(
        <StrModifier
          str="abc"
          obj={{ upper: true, repeat: 3, letterSpacing: 5 }}
        />,
        document.getElementById("root")
      );
    </script>
  </body>
</html>
